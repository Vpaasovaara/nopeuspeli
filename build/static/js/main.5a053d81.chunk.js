(this.webpackJsonpspeedtest=this.webpackJsonpspeedtest||[]).push([[0],{24:function(e,t,s){},5:function(e,t,s){e.exports={modal:"modal_modal__2RLzJ",visible:"modal_visible__1Qq9J",modal__wrap:"modal_modal__wrap__2IJ7U"}},52:function(e,t,s){"use strict";s.r(t);var c=s(1),a=s.n(c),n=s(19),r=s.n(n),l=(s(24),s(2)),i=s(4),o=s.n(i),u=s(5),b=s.n(u),j=s(0),d={color:"gold"},m={color:"#bfc1c2"},O={color:"#D17B36"},x={color:"#414a4c"},p=function(e){var t=e.score,s=e.name;return Object(j.jsxs)("tr",{className:"table-dark",style:Number(t)>200?d:Number(t)>150?m:Number(t)>100?O:x,children:[Object(j.jsx)("th",{scope:"row",children:s}),Object(j.jsx)("td",{children:t})]})},h=function(e){var t=e.isVisible,s=e.setIsVisible,n=e.scores,r=Object(c.useRef)(null);Object(c.useEffect)((function(){t?r.current.classList.add(b.a.visible):r.current.classList.remove(b.a.visible)}),[t]);return Object(j.jsx)(a.a.Fragment,{children:Object(j.jsx)("div",{ref:r,className:"".concat(b.a.modal),children:Object(j.jsxs)("div",{style:{overflowY:"scroll"},className:b.a.modal__wrap,children:["Parhaat pelaajat",Object(j.jsx)("div",{className:"btn btn-danger mx-3",onClick:function(){s(!1)},children:"Sulje"}),Object(j.jsx)("div",{className:"tableScroll",children:Object(j.jsxs)("table",{className:"table table-striped table-dark scoreTable",children:[Object(j.jsx)("thead",{children:Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{scope:"col",children:"Nimi"}),Object(j.jsx)("th",{scope:"col",children:"Pisteet"})]})}),Object(j.jsx)("tbody",{children:n.map((function(e){return Object(j.jsx)(p,{score:e.score,name:e.name},e.id)}))})]})})]})})})},f=s(6),v=s.n(f),N=s(7),g=s(10),w=s.n(g),k="/api/names",y=function(){var e=Object(N.a)(v.a.mark((function e(){var t,s,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={headers:{"content-type":"application/json"}},s=w.a.get(k,t),e.next=4,s;case 4:return c=e.sent,e.abrupt("return",c.data);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=Object(N.a)(v.a.mark((function e(t){var s;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.post(k,t);case 2:return s=e.sent,e.abrupt("return",s.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S={getAll:y,create:_},B=function(e){var t=e.display,s=e.startGame,a=e.gameOn,n=Object(c.useState)([]),r=Object(l.a)(n,2),i=r[0],o=r[1],u=Object(c.useState)(!1),b=Object(l.a)(u,2),d=b[0],m=b[1];return Object(j.jsxs)("div",{className:"scores",children:[d?Object(j.jsx)(h,{isVisible:d,setIsVisible:m,scores:i,setScores:o}):null,Object(j.jsx)("div",{className:"nopeustesti",children:"NOPEUSTESTI"}),Object(j.jsxs)("div",{className:"speedscale",children:[Object(j.jsx)("div",{className:"scale scale-1",children:Object(j.jsx)("p",{className:"scale-text",children:"1"})}),Object(j.jsx)("div",{className:"scale scale-2",children:Object(j.jsx)("p",{className:"scale-text",children:"2"})}),Object(j.jsx)("div",{className:"scale scale-3",children:Object(j.jsx)("p",{className:"scale-text",children:"3"})}),Object(j.jsx)("div",{className:"scale scale-4",children:Object(j.jsx)("p",{className:"scale-text",children:"4"})}),Object(j.jsx)("div",{className:"scale scale-5",children:Object(j.jsx)("p",{className:"scale-text",children:"5"})}),Object(j.jsx)("div",{className:"scale scale-6",children:Object(j.jsx)("p",{className:"scale-text",children:"6"})}),Object(j.jsx)("div",{className:"scale scale-7",children:Object(j.jsx)("p",{className:"scale-text",children:"7"})})]}),Object(j.jsx)("div",{className:"display",children:t}),Object(j.jsxs)("div",{className:"controls",children:[Object(j.jsx)("div",{className:"btn btn-warning my-3 mx-3",onClick:function(){a||(S.getAll().then((function(e){e.sort((function(e,t){return t.score-e.score})),o(e)})),m(!0))},children:"Pisteet"}),Object(j.jsx)("div",{className:"btn btn-success mx-3",onClick:function(){return s()},children:"Aloitus"})]})]})},E=function(e){var t=e.id,s=e.plusOne,c=e.className;e.gameOn;return Object(j.jsx)("div",{className:c,id:t,onClick:function(){return s(t)}})},L=function(e){var t=e.display,s=e.setDisplay,c=e.button1,a=e.button2,n=e.button3,r=e.button4,l=e.setButton1,i=e.setButton2,o=e.setButton3,u=e.setButton4,b=e.setFail,d=e.gameOn,m=function(e){switch(e){case"button-1":O(c,l);break;case"button-2":O(a,i);break;case"button-3":O(n,o);break;case"button-4":O(r,u);break;default:console.log("default")}},O=function(e,c){e&&(c(!e),s(t+1)),!e&&d&&b(!0)},x=c?"button-1-active":"button-1",p=a?"button-2-active":"button-2",h=n?"button-3-active":"button-3",f=r?"button-4-active":"button-4";return Object(j.jsxs)("div",{className:"buttons",children:[Object(j.jsx)(E,{className:x,id:"button-1",plusOne:m,gameOn:d}),Object(j.jsx)(E,{className:p,id:"button-2",plusOne:m,gameOn:d}),Object(j.jsx)(E,{className:h,id:"button-3",plusOne:m,gameOn:d}),Object(j.jsx)(E,{className:f,id:"button-4",plusOne:m,gameOn:d})]})},C=function(e){var t=e.fail,s=e.display,n=Object(c.useRef)(null),r=Object(c.useState)(""),i=Object(l.a)(r,2),o=i[0],u=i[1];Object(c.useEffect)((function(){t?n.current.classList.add(b.a.visible):n.current.classList.remove(b.a.visible)}),[t]);var d=function(){var e=Object(N.a)(v.a.mark((function e(t){var c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),c={name:o,score:s},e.prev=2,e.next=5,S.create(c);case 5:u(""),window.location.reload(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.log("error creating new user");case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsx)(a.a.Fragment,{children:Object(j.jsx)("div",{ref:n,className:"".concat(b.a.modal),children:Object(j.jsxs)("div",{className:b.a.modal__wrap,children:[Object(j.jsxs)("p",{children:["Peli ohi, pisteesi on: ",s]}),Object(j.jsxs)("form",{onSubmit:d,children:[Object(j.jsx)("label",{htmlFor:"name",children:"Laita nimesi alla olevaan kentt\xe4\xe4n ja jaa muille k\xe4ytt\xe4jille tuloksesi :)"}),Object(j.jsx)("input",{placeholder:"nimi",id:"name",type:"text",value:o,name:"password",onChange:function(e){var t=e.target;return u(t.value)},required:!0}),Object(j.jsx)("br",{}),Object(j.jsx)("button",{className:"btn btn-success mx-3",type:"submit",children:"L\xe4het\xe4"}),Object(j.jsx)("div",{className:"btn btn-warning mx-3",onClick:function(){return window.location.reload()},children:"Sulje"})]})]})})})};var F=function(){var e=o()(0),t=Object(l.a)(e,2),s=t[0],a=t[1],n=o()(!1),r=Object(l.a)(n,2),i=r[0],u=r[1],b=o()(!1),d=Object(l.a)(b,2),m=d[0],O=d[1],x=o()(!1),p=Object(l.a)(x,2),h=p[0],f=p[1],v=o()(!1),N=Object(l.a)(v,2),g=N[0],w=N[1],k=o()(!1),y=Object(l.a)(k,2),_=y[0],S=y[1],E=o()(!1),F=Object(l.a)(E,2),T=F[0],D=F[1],I=o()(!1),J=Object(l.a)(I,2),P=J[0],A=J[1],V=o()(!1),R=Object(l.a)(V,2),q=R[0],G=R[1],M=o()(2e3),U=Object(l.a)(M,2),z=U[0],Q=U[1],Y=function(){if(m&&!g)switch(u(!i),Math.floor(4*Math.random()+1)){case 1:S(!0);break;case 2:D(!0);break;case 3:A(!0);break;case 4:G(!0);break;default:console.log("default")}};return Object(c.useEffect)((function(){setTimeout((function(){f(!h)}),z)}),[i]),Object(c.useEffect)((function(){g||!m||_||T||P||q?(_||T||P||q)&&w(!0):(Q(.99*z),Y())}),[h,m]),Object(j.jsx)("div",{className:"App",children:Object(j.jsxs)("div",{className:"container mainframe",children:[Object(j.jsx)(C,{fail:g,display:s}),Object(j.jsx)(B,{display:function(){var e=String(s);switch(e.length){case 1:return"000".concat(e);case 2:return"00".concat(e);case 3:return"0".concat(e);default:return e}}(),setDisplay:a,startGame:function(){O(!0)},setFail:w,setTimelapse:Q,gameOn:m}),Object(j.jsx)(L,{display:s,setDisplay:a,button1:_,setButton1:S,button2:T,setButton2:D,button3:P,setButton3:A,button4:q,setButton4:G,gameOn:m,setTimeOn:u,timeOn:i,setFail:w})]})})};r.a.render(Object(j.jsx)(F,{}),document.getElementById("root"))}},[[52,1,2]]]);
//# sourceMappingURL=main.5a053d81.chunk.js.map